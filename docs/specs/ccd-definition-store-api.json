{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost:8080","basePath":"/","tags":[{"name":"base-type-controller","description":"Base Type Controller"},{"name":"case-definition-controller","description":"Case Definition Controller"},{"name":"display-api-controller","description":"Display Api Controller"},{"name":"import-controller","description":"Import Controller"},{"name":"proxy-controller","description":"Proxy Controller"},{"name":"user-role-controller","description":"User Role Controller"}],"paths":{"/api/base-types":{"get":{"tags":["base-type-controller"],"summary":"Fetch all Base Types","operationId":"getBaseTypesUsingGET","produces":["application/json"],"responses":{"200":{"description":"All valid base types","schema":{"type":"array","items":{"$ref":"#/definitions/FieldType"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/data/case-type/{ctid}/version":{"get":{"tags":["case-definition-controller"],"summary":"Gets the current version of a Case Type Schema","operationId":"dataCaseTypeVersionGetUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"Case Type ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"version information","schema":{"$ref":"#/definitions/CaseTypeVersionInformation"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/data/case-type/{id}":{"get":{"tags":["case-definition-controller"],"summary":"Fetch a Case Type Schema","description":"Returns the schema of a single case type.\n","operationId":"dataCaseTypeIdGetUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Case Type ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"A Case Type Schema","schema":{"$ref":"#/definitions/CaseType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":true}},"/api/data/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}":{"get":{"tags":["case-definition-controller"],"summary":"Fetch a Case Type Schema","description":"Returns the schema of a single case type.\n","operationId":"dataCaseworkerIdAndJurisdictionIdCaseTypeGetUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ID for Case Type","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"ID for a Jurisdiction","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"ID for a Caseworker","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"A Case Type Schema","schema":{"$ref":"#/definitions/CaseType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/data/jurisdictions":{"get":{"tags":["case-definition-controller"],"summary":"Get jurisdiction details","operationId":"findJurisdictionsUsingGET","produces":["application/json"],"parameters":[{"name":"ids","in":"query","description":"list of jurisdiction references","required":false,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"List of jurisdictions","schema":{"type":"array","items":{"$ref":"#/definitions/Jurisdiction"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/data/jurisdictions/{jurisdiction_id}/case-type":{"get":{"tags":["case-definition-controller"],"summary":"Get case types","description":"Get the case types as a list with optional jurisdiction filter","operationId":"dataJurisdictionsJurisdictionIdCaseTypeGetUsingGET","produces":["application/json"],"parameters":[{"name":"jurisdiction_id","in":"path","description":"ID for a Jurisdiction","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"List of Case Types","schema":{"type":"array","items":{"$ref":"#/definitions/CaseType"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/display/search-input-definition/{id}":{"get":{"tags":["display-api-controller"],"summary":"Fetch the UI definition for the search inputs for a given Case Type","operationId":"displaySearchInputDefinitionIdGetUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Case Type ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"A Search input definition","schema":{"$ref":"#/definitions/SearchInputDefinition"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/display/search-result-definition/{id}":{"get":{"tags":["display-api-controller"],"summary":"Fetch the UI definition for the search result fields for a given Case Type","operationId":"displaySearchResultDefinitionIdGetUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Case Type ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"A Search result definition","schema":{"$ref":"#/definitions/SearchResultDefinition"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/display/tab-structure/{id}":{"get":{"tags":["display-api-controller"],"summary":"Fetch a Case Tab Collection for a given Case Type","description":"Returns the schema of a single case type.\n","operationId":"displayTabStructureIdGetUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Case Type ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"A Case Tab Collection","schema":{"$ref":"#/definitions/CaseTabCollection"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/display/wizard-page-structure/case-types/{ctid}/event-triggers/{etid}":{"get":{"tags":["display-api-controller"],"summary":"Fetch a Case Wizard Page Collection for a given Case Type","description":"Returns the schema of a single case type.\n","operationId":"displayWizardPageStructureIdGetUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"Case Type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"etid","in":"path","description":"Event Reference","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"A Case Wizard Page Collection","schema":{"$ref":"#/definitions/CaseTabCollection"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/display/work-basket-definition/{id}":{"get":{"tags":["display-api-controller"],"summary":"Fetch the UI definition for the work basket for a given Case Type","operationId":"displayWorkBasketDefinitionIdGetUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Case Type ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Work Basket Result","schema":{"$ref":"#/definitions/WorkBasketResult"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/display/work-basket-input-definition/{id}":{"get":{"tags":["display-api-controller"],"summary":"Fetch the UI definition for the work basket inputs for a given Case Type","operationId":"displayWorkBasketInputDefinitionIdGetUsingGET","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Case Type ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"A Work Basket input definition","schema":{"$ref":"#/definitions/SearchInputDefinition"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user-role":{"get":{"tags":["user-role-controller"],"summary":"Get a user profile","operationId":"userRoleGetUsingGET","produces":["application/json"],"parameters":[{"name":"role","in":"query","description":"role","required":true,"type":"string","format":"byte"}],"responses":{"200":{"description":"User role is found","schema":{"$ref":"#/definitions/UserRole"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Unable to find user role"}}},"put":{"tags":["user-role-controller"],"summary":"Update a user role","description":"a user role is created if it does not exist","operationId":"userRolePutUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"userRole","description":"user role","required":true,"schema":{"$ref":"#/definitions/UserRole"}}],"responses":{"201":{"description":"Created"},"205":{"description":"User role is updated successfully and the user agent SHOULD reset the document view","schema":{"$ref":"#/definitions/UserRole"}},"215":{"description":"User role is created","schema":{"$ref":"#/definitions/UserRole"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Bad request, for example, incorrect data"}}}},"/api/user-roles/{roles}":{"get":{"tags":["user-role-controller"],"summary":"Get user role definitions given as comma separated values","operationId":"getUserRolesUsingGET","produces":["application/json"],"parameters":[{"name":"roles","in":"path","description":"Roles","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"User Role Response is returned","schema":{"type":"array","items":{"$ref":"#/definitions/UserRole"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/import":{"post":{"tags":["import-controller"],"summary":"processUpload","operationId":"processUploadUsingPOST","consumes":["multipart/form-data"],"produces":["*/*"],"parameters":[{"name":"file","in":"formData","description":"file","required":true,"type":"file"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResponseEntity"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/proxy":{"post":{"tags":["proxy-controller"],"summary":"proxyRequest","operationId":"proxyRequestUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"url","description":"url","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"AccessControlList":{"type":"object","properties":{"create":{"type":"boolean"},"delete":{"type":"boolean"},"read":{"type":"boolean"},"role":{"type":"string"},"update":{"type":"boolean"}},"title":"AccessControlList"},"CaseEvent":{"type":"object","required":["id","name"],"properties":{"acls":{"type":"array","items":{"$ref":"#/definitions/AccessControlList"}},"callback_url_about_to_start_event":{"type":"string"},"callback_url_about_to_submit_event":{"type":"string"},"callback_url_submitted_event":{"type":"string"},"case_fields":{"type":"array","items":{"$ref":"#/definitions/CaseEventField"}},"description":{"type":"string"},"end_button_label":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"},"order":{"type":"integer","format":"int32"},"post_state":{"type":"string"},"pre_states":{"type":"array","items":{"type":"string"}},"retries_timeout_about_to_start_event":{"type":"array","items":{"type":"integer","format":"int32"}},"retries_timeout_url_about_to_submit_event":{"type":"array","items":{"type":"integer","format":"int32"}},"retries_timeout_url_submitted_event":{"type":"array","items":{"type":"integer","format":"int32"}},"security_classification":{"type":"string","enum":["PUBLIC","PRIVATE","RESTRICTED"]},"show_event_notes":{"type":"boolean"},"show_summary":{"type":"boolean"}},"title":"CaseEvent"},"CaseEventField":{"type":"object","required":["case_field_id"],"properties":{"case_field_id":{"type":"string","description":"Foreign key to CaseField.id"},"display_context":{"type":"string","description":"whether this field is optional, mandatory or read only for this event"},"show_condition":{"type":"string","description":"Show Condition expression for this field"},"show_summary_change_option":{"type":"boolean"},"show_summary_content_option":{"type":"integer","format":"int32"}},"title":"CaseEventField"},"CaseField":{"type":"object","required":["field_type","id","label"],"properties":{"acls":{"type":"array","items":{"$ref":"#/definitions/AccessControlList"}},"case_type_id":{"type":"string","description":"Foriegn key to the case type as fields should not work across"},"field_type":{"$ref":"#/definitions/FieldType"},"hidden":{"type":"boolean"},"hint_text":{"type":"string"},"id":{"type":"string","description":"The id of the case field"},"label":{"type":"string"},"live_from":{"type":"string"},"live_until":{"type":"string"},"security_classification":{"type":"string","description":"Gov security level of the data (official, top secret etc)"},"show_condition":{"type":"string"}},"title":"CaseField"},"CaseState":{"type":"object","required":["id"],"properties":{"acls":{"type":"array","description":"State Access Control Lists","items":{"$ref":"#/definitions/AccessControlList"}},"description":{"type":"string"},"id":{"type":"string"},"name":{"type":"string","description":"Short name to display."},"order":{"type":"integer","format":"int32"}},"title":"CaseState"},"CaseTabCollection":{"type":"object","required":["case_type_id","tabs"],"properties":{"case_type_id":{"type":"string","description":"Unique identifier for a Case Type."},"channels":{"type":"array","description":"The channels this tab is targetted at","items":{"type":"string"}},"tabs":{"type":"array","items":{"$ref":"#/definitions/CaseTypeTab"}}},"title":"CaseTabCollection"},"CaseType":{"type":"object","properties":{"acls":{"type":"array","items":{"$ref":"#/definitions/AccessControlList"}},"case_fields":{"type":"array","items":{"$ref":"#/definitions/CaseField"}},"description":{"type":"string"},"events":{"type":"array","items":{"$ref":"#/definitions/CaseEvent"}},"id":{"type":"string"},"jurisdiction":{"$ref":"#/definitions/Jurisdiction"},"name":{"type":"string"},"printable_document_url":{"type":"string"},"security_classification":{"type":"string","enum":["PUBLIC","PRIVATE","RESTRICTED"]},"states":{"type":"array","items":{"$ref":"#/definitions/CaseState"}},"version":{"$ref":"#/definitions/Version"}},"title":"CaseType"},"CaseTypeTab":{"type":"object","properties":{"id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"},"show_condition":{"type":"string"},"tab_fields":{"type":"array","items":{"$ref":"#/definitions/CaseTypeTabField"}}},"title":"CaseTypeTab"},"CaseTypeTabField":{"type":"object","properties":{"case_field":{"$ref":"#/definitions/CaseField"},"order":{"type":"integer","format":"int32"},"show_condition":{"type":"string"}},"title":"CaseTypeTabField"},"CaseTypeVersionInformation":{"type":"object","properties":{"version":{"type":"integer","format":"int32"}},"title":"CaseTypeVersionInformation"},"FieldType":{"type":"object","properties":{"collection_field_type":{"$ref":"#/definitions/FieldType"},"complex_fields":{"type":"array","items":{"$ref":"#/definitions/CaseField"}},"fixed_list_items":{"type":"array","items":{"$ref":"#/definitions/FixedListItem"}},"id":{"type":"string"},"max":{"type":"string"},"min":{"type":"string"},"regular_expression":{"type":"string"},"type":{"type":"string"}},"title":"FieldType"},"FixedListItem":{"type":"object","properties":{"code":{"type":"string"},"label":{"type":"string"}},"title":"FixedListItem"},"Jurisdiction":{"type":"object","required":["id","name"],"properties":{"description":{"type":"string"},"id":{"type":"string"},"live_from":{"type":"string","format":"date-time"},"live_until":{"type":"string","format":"date-time"},"name":{"type":"string"}},"title":"Jurisdiction"},"ResponseEntity":{"type":"object","properties":{"body":{"type":"object"},"statusCode":{"type":"string","enum":["100","101","102","103","200","201","202","203","204","205","206","207","208","226","300","301","302","303","304","305","307","308","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","426","428","429","431","451","500","501","502","503","504","505","506","507","508","509","510","511"]},"statusCodeValue":{"type":"integer","format":"int32"}},"title":"ResponseEntity"},"SearchInputDefinition":{"type":"object","properties":{"case_type_id":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/definitions/SearchInputField"}}},"title":"SearchInputDefinition"},"SearchInputField":{"type":"object","properties":{"case_field_id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"SearchInputField"},"SearchResultDefinition":{"type":"object","properties":{"case_type_id":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/definitions/SearchResultsField"}}},"title":"SearchResultDefinition"},"SearchResultsField":{"type":"object","properties":{"case_field_id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"SearchResultsField"},"UserRole":{"type":"object","properties":{"created_at":{"type":"string"},"id":{"type":"integer","format":"int32"},"live_from":{"type":"string"},"live_to":{"type":"string"},"role":{"type":"string"},"security_classification":{"type":"string","enum":["PUBLIC","PRIVATE","RESTRICTED"]}},"title":"UserRole"},"Version":{"type":"object","required":["live_from","number"],"properties":{"live_from":{"type":"string","format":"date-time","description":"Date and time from when this version is valid from"},"live_until":{"type":"string","format":"date-time","description":"Date and time this version is to be retired"},"number":{"type":"integer","format":"int32","description":"Sequantial version number"}},"title":"Version"},"WizardPage":{"type":"object","properties":{"id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"},"show_condition":{"type":"string"},"wizard_page_fields":{"type":"array","items":{"$ref":"#/definitions/WizardPageField"}}},"title":"WizardPage"},"WizardPageCollection":{"type":"object","required":["case_type_id","event_id","wizard_pages"],"properties":{"case_type_id":{"type":"string","description":"Unique identifier for a Case Type."},"event_id":{"type":"string","description":"Event Trigger Id"},"wizard_pages":{"type":"array","items":{"$ref":"#/definitions/WizardPage"}}},"title":"WizardPageCollection"},"WizardPageField":{"type":"object","properties":{"case_field_id":{"type":"string"},"order":{"type":"integer","format":"int32"},"page_column_no":{"type":"integer","format":"int32"}},"title":"WizardPageField"},"WorkBasketResult":{"type":"object","properties":{"case_type_id":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/definitions/WorkBasketResultField"}}},"title":"WorkBasketResult"},"WorkBasketResultField":{"type":"object","properties":{"case_field_id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"WorkBasketResultField"},"WorkbasketInputDefinition":{"type":"object","properties":{"case_type_id":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/definitions/WorkbasketInputField"}}},"title":"WorkbasketInputDefinition"},"WorkbasketInputField":{"type":"object","properties":{"case_field_id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"WorkbasketInputField"}}}
