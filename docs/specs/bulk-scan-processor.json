{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"rpe-bulk-scan-processor-prod.service.core-compute-prod.internal","basePath":"/","tags":[{"name":"envelope-controller","description":"Envelope Controller"},{"name":"sas-token-controller","description":"Sas Token Controller"}],"paths":{"/envelopes":{"get":{"tags":["envelope-controller"],"summary":"Retrieves all envelopes with processed status for a given jurisdiction","description":"Returns an empty list when no envelopes were found","operationId":"getProcessedEnvelopesByJurisdictionUsingGET","produces":["application/json"],"parameters":[{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/EnvelopeMetadataResponse"}}},"deprecated":false}},"/envelopes/{id}/status":{"put":{"tags":["envelope-controller"],"summary":"Updates the status of given envelope","operationId":"updateStatusUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":false,"type":"string"},{"name":"id","in":"path","description":"id","required":true,"type":"string","format":"uuid"},{"in":"body","name":"statusUpdate","description":"statusUpdate","required":true,"schema":{"$ref":"#/definitions/StatusUpdate"}}],"responses":{"200":{"description":"OK"}},"deprecated":false}},"/token/{serviceName}":{"get":{"tags":["sas-token-controller"],"summary":"Get SAS Token to access blob storage","operationId":"getSasTokenUsingGET","produces":["application/json"],"parameters":[{"name":"serviceName","in":"path","description":"serviceName","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SasTokenResponse"}}},"deprecated":false}}},"definitions":{"Envelope":{"type":"object","properties":{"delivery_date":{"$ref":"#/definitions/Timestamp"},"id":{"type":"string","format":"uuid"},"jurisdiction":{"type":"string"},"non_scannable_items":{"type":"array","items":{"$ref":"#/definitions/NonScannableItem"}},"opening_date":{"$ref":"#/definitions/Timestamp"},"payments":{"type":"array","items":{"$ref":"#/definitions/Payment"}},"po_box":{"type":"string"},"scannable_items":{"type":"array","items":{"$ref":"#/definitions/ScannableItem"}},"status":{"type":"string","enum":["CONSUMED","CREATED","PROCESSED","UPLOADED","UPLOAD_FAILURE"]},"zip_file_createddate":{"$ref":"#/definitions/Timestamp"},"zip_file_name":{"type":"string"}},"title":"Envelope"},"EnvelopeMetadataResponse":{"type":"object","properties":{"envelopes":{"type":"array","items":{"$ref":"#/definitions/Envelope"}}},"title":"EnvelopeMetadataResponse"},"NonScannableItem":{"type":"object","properties":{"item_type":{"type":"string"},"notes":{"type":"string"}},"title":"NonScannableItem"},"Payment":{"type":"object","properties":{"amount":{"type":"number","format":"double"},"amount_in_pence":{"type":"integer","format":"int32"},"currency":{"type":"string"},"document_control_number":{"type":"string"},"method":{"type":"string"}},"title":"Payment"},"SasTokenResponse":{"type":"object","properties":{"sas_token":{"type":"string","description":"Shared access token to access blob"}},"title":"SasTokenResponse"},"ScannableItem":{"type":"object","properties":{"document_control_number":{"type":"string"},"document_url":{"type":"string"},"file_name":{"type":"string"},"manual_intervention":{"type":"string"},"next_action":{"type":"string"},"next_action_date":{"$ref":"#/definitions/Timestamp"},"notes":{"type":"string"},"ocr_accuracy":{"type":"string"},"ocr_data":{"type":"string"},"scanning_date":{"$ref":"#/definitions/Timestamp"}},"title":"ScannableItem"},"StatusUpdate":{"type":"object","properties":{"status":{"type":"string","enum":["CONSUMED","CREATED","PROCESSED","UPLOADED","UPLOAD_FAILURE"]}},"title":"StatusUpdate"},"Timestamp":{"type":"object","properties":{"date":{"type":"integer","format":"int32"},"day":{"type":"integer","format":"int32"},"hours":{"type":"integer","format":"int32"},"minutes":{"type":"integer","format":"int32"},"month":{"type":"integer","format":"int32"},"nanos":{"type":"integer","format":"int32"},"seconds":{"type":"integer","format":"int32"},"time":{"type":"integer","format":"int64"},"timezoneOffset":{"type":"integer","format":"int32"},"year":{"type":"integer","format":"int32"}},"title":"Timestamp"}}}