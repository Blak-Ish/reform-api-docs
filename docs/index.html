<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reform APIs</title>
    <script type="text/javascript">
        var microservices = [
            {
                "name": "test",
                "spec": "https://hmcts.github.io/reform-api-docs/swagger.yaml"
            },
            {
                "name": "CCD Definition Store",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [
                    {
                        "name": "IdAM",
                        "hard": true,
                        "apis": []
                    }
                ],
                "apis": [],
                "version": ""
            },
            {
                "name": "CCD Data Store",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [
                    {
                        "name": "CCD Definition Store",
                        "hard": true,
                        "apis": []
                    },
                    {
                        "name": "IdAM",
                        "hard": true,
                        "apis": []
                    }
                ],
                "apis": [],
                "version": ""
            },
            {
                "name": "Fees",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [],
                "apis": [],
                "version": ""
            },
            {
                "name": "Payments",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [
                    {
                        "name": "IdAM",
                        "hard": true,
                        "apis": []
                    }
                ],
                "apis": [],
                "version": ""
            },
            {
                "name": "IdAM",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [],
                "apis": [],
                "version": ""
            },
            {
                "name": "Probate Frontend",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [
                    {
                        "name": "IdAM",
                        "hard": true,
                        "apis": []
                    },
                    {
                        "name": "Fees",
                        "hard": true,
                        "apis": []
                    },
                    {
                        "name": "Payments",
                        "hard": true,
                        "apis": []
                    },
                    {
                        "name": "Probate Validator",
                        "hard": true,
                        "apis": []
                    },
                    {
                        "name": "Probate Persistence",
                        "hard": true,
                        "apis": []
                    },
                    {
                        "name": "Probate Submition",
                        "hard": true,
                        "apis": []
                    }
                ],
                "apis": [],
                "version": ""
            },
            {
                "name": "Probate Validator",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [],
                "apis": [],
                "version": ""
            },
            {
                "name": "Probate Persistence",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [],
                "apis": [],
                "version": ""
            },
            {
                "name": "Probate Submission",
                "description": "",
                "repository": "",
                "spec": "",
                "dependencies": [],
                "apis": [],
                "version": ""
            }
        ];
    </script>
</head>
<body>
    <ul id="apis">
        <script type="text/javascript">
            var apiList = document.getElementById('apis');

            microservices.forEach(function(el) {
                console.log(el);
                if (el.spec) {
                    apiList.insertAdjacentHTML('beforeend', '<li><a href="./swagger.html?url=' + el.spec + '">' + el.name + '</a></li>');
                } else {
                    apiList.insertAdjacentHTML('beforeend', '<li>' + el.name + '</li>');
                }
            });
        </script>
    </ul>
</body>
</html>